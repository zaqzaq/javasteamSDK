<project name="SteamJava"
         default="default"
         basedir="."
         >

	<property environment="env" />
	<property name="build.dir" value="build" />
	<property name="java.build.dir" value="build/java" />
	<property name="cpp.src.dir" value="${basedir}/../SteamNative/src/cpp" />
	<property name="java.src.dir" value="src/java" />

	<property name="javac.debug" value="false" />
	<property name="javac.deprecation" value="false" />
	<property name="javac.fork" value="false" />
	<property name="javac.optimize" value="true" />
	<property name="javac.verbose" value="false" />

	<path id="classpath">
		<fileset dir="${basedir}/../EmCommon/lib/log">
			<include name="*.jar"/>
		</fileset>
	</path>

	<target name="clean" depends="">
		<delete dir="${build.dir}" />
	</target>

	<target name="init" depends="">
		<mkdir dir="${build.dir}" />
		<mkdir dir="${java.build.dir}" />
	</target>

	<target name="compile_java" depends="init">
		<javac classpathref="classpath"
		       debug="${javac.debug}"
		       deprecation="${javac.deprecation}"
		       destdir="${java.build.dir}"
		       fork="${javac.fork}"
		       optimize="${javac.optimize}"
		       srcdir="${java.src.dir}"
		       verbose="${javac.verbose}">
		</javac>
	</target>

	<target name="javah" depends="compile_java">
		<javah class="steam.steam_api,steam.ISteamUserStats,steam.ISteamFriends, steam.ISteamUser, steam.ISteamUtils, steam.steam_gameserver, steam.ISteamGameServer, steam.ISteamRemoteStorage, steam.SteamUserStatsListener, ng.util.CursorHelper, steam.ISteamController, steam.ISteamApps"
		       destdir="${cpp.src.dir}">
			<classpath>
				<path location="${java.build.dir}">
				</path>
			</classpath>
		</javah>
	</target>

	<target name="default" depends="javah" />
</project>
